# Summon:
execute as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,distance=0..5,limit=1] at @s[tag=!dungeon_boss_generated] run summon minecraft:wither_skeleton ~ ~1 ~ {Health:300f,attributes:[{id:"minecraft:generic.attack_damage",base:6},{id:"minecraft:generic.max_health",base:300}], HandDropChances: [0.001f, 1.0f], Tags: ["mmo_engine_mob"], Motion: [0.0d, 0.0d, 0.0d], Rotation: [180.0f, 0.0f], HandItems: [{count:1, id: "minecraft:iron_sword"}, {count: 1, id: "minecraft:ominous_trial_key", components:{"minecraft:custom_name":'{"text": "Boss Treasure Key", "color": "yellow"}', "minecraft:lore":['[{"text": "Hold the key & bring it to the alter to claim your reward!", "color": "blue", "italic":false}]'], "minecraft:custom_data":{Tags:["dungeon_boss_key"]}}}], ArmorDropChances: [0.001f, 0.001f, 0.001f, 0.001f], CustomName: '{"text": "Egyptian Desert Guardian", "color": "aqua"}', ArmorItems: [{components: {"minecraft:trim": {material: "minecraft:gold", pattern: "minecraft:raiser"}}, count: 1, id: "minecraft:diamond_boots"}, {components: {"minecraft:trim": {material: "minecraft:gold", pattern: "minecraft:host"}}, count: 1, id: "minecraft:diamond_leggings"}, {components: {"minecraft:trim": {material: "minecraft:gold", pattern: "minecraft:wayfinder"}}, count: 1, id: "minecraft:netherite_chestplate"}, {components: {"minecraft:trim": {material: "minecraft:gold", pattern: "minecraft:shaper"}}, count: 1, id: "minecraft:netherite_helmet"}], CustomNameVisible: 1b}
execute as @e[type=minecraft:marker,tag=mmo_dungeon,distance=0..5,limit=1] at @s run tag @s[tag=!dungeon_boss_generated] add dungeon_boss_generated

# Reward:
execute if entity @s[tag=mmo_boss_key] as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,distance=0..5,limit=1] at @s run tag @s[tag=!dungeon_boss_loot] add dungeon_boss_loot
execute if entity @s[tag=mmo_boss_key] as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,tag=dungeon_boss_loot,distance=0..5,limit=1] at @s run loot spawn ~ ~1 ~ loot minecraft:chests/end_city_treasure
execute if entity @s[tag=mmo_boss_key] as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,tag=dungeon_boss_loot,distance=0..5,limit=1] at @s run clear @a[distance=0..5,tag=mmo_boss_key] minecraft:ominous_trial_key[minecraft:custom_data={Tags:["dungeon_boss_key"]}] 1
execute as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,tag=dungeon_boss_loot,distance=0..5,limit=1] at @s run kill @s