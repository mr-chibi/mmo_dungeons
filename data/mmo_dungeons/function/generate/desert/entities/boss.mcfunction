# Summon:
execute as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,distance=0..5,limit=1] at @s[tag=!dungeon_boss_generated] run summon minecraft:wither_skeleton ~ ~1 ~ {drop_chances: {mainhand: 0.05f, head: 0.059f, feet: 0.02f, chest: 0.055f, legs: 0.04f, offhand: 1.0f}, equitment: {mainhand: {id: "minecraft:air"}, head: {id: "minecraft:air"}, feet: {id: "minecraft:air"}, chest: {id: "minecraft:air"}, legs: {id: "minecraft:air"}, offhand: {id: "minecraft:air"}}, Health: 300.0d, equipment: {mainhand: {count: 1, id: "minecraft:iron_axe"}, head: {components: {"minecraft:trim": {material: "minecraft:redstone", pattern: "minecraft:rib"}}, count: 1, id: "minecraft:iron_helmet"}, feet: {components: {"minecraft:trim": {material: "minecraft:redstone", pattern: "minecraft:rib"}}, count: 1, id: "minecraft:iron_boots"}, chest: {components: {"minecraft:trim": {material: "minecraft:redstone", pattern: "minecraft:snout"}}, count: 1, id: "minecraft:iron_chestplate"}, legs: {components: {"minecraft:trim": {material: "minecraft:redstone", pattern: "minecraft:snout"}}, count: 1, id: "minecraft:iron_leggings"}, offhand: {components: {"minecraft:item_name": {color: "red", text: "Boss Key"}, "minecraft:custom_data": {Tags: ["dungeon_boss_key"]}}, count: 1, id: "minecraft:ominous_trial_key"}}, attributes: [{id: "minecraft:scale", base: 1.0d}, {id: "minecraft:attack_damage", base: 10.0d}, {id: "minecraft:max_health", base: 300.0d}, {id: "minecraft:armor", base: 24.0d}], id: "minecraft:wither_skeleton"}
execute as @e[type=minecraft:marker,tag=mmo_dungeon,distance=0..5,limit=1] at @s run tag @s[tag=!dungeon_boss_generated] add dungeon_boss_generated

# Reward:
execute if entity @s[tag=mmo_boss_key] as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,distance=0..5,limit=1] at @s run tag @s[tag=!dungeon_boss_loot] add dungeon_boss_loot
execute if entity @s[tag=mmo_boss_key] as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,tag=dungeon_boss_loot,distance=0..5,limit=1] at @s run loot spawn ~ ~1 ~ loot minecraft:chests/end_city_treasure
execute if entity @s[tag=mmo_boss_key] as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,tag=dungeon_boss_loot,distance=0..5,limit=1] at @s run clear @a[distance=0..5,tag=mmo_boss_key] minecraft:ominous_trial_key[minecraft:custom_data={Tags:["dungeon_boss_key"]}] 1
execute as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,tag=dungeon_boss_loot,distance=0..5,limit=1] at @s run kill @s