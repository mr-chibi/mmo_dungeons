# Summon:
execute as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,distance=0..5,limit=1] at @s[tag=!dungeon_boss_generated] run summon minecraft:wither_skeleton ~ ~1 ~ {Attributes: [{Base: 0.0d, Name: "minecraft:generic.armor_toughness"}, {Base: 0.0d, Name: "minecraft:generic.armor"}, {Base: 300.0d, Name: "minecraft:generic.max_health"}, {Base: 6.0d, Name: "minecraft:generic.attack_damage"}, {Base: 0.0d, Name: "minecraft:generic.knockback_resistance"}, {Base: 0.25d, Name: "minecraft:generic.movement_speed"}], HandDropChances: [0.001f, 1.0f], Tags: ["mmo_engine_mob"], Motion: [0.0d, 0.0d, 0.0d], Health: 300.0f, Rotation: [180.0f, 0.0f], HandItems: [{count: 1, id: "minecraft:iron_sword"}, {count: 1, id: "minecraft:gold_nugget", components:{"minecraft:custom_name":'{"text": "Boss Treasure Key", "color": "yellow"}', "minecraft:lore":['[{"text": "Hold the key & bring it to the alter to claim your reward!", "color": "blue", "italic":false}]'], "minecraft:custom_data":{Tags:["dungeon_boss_key"]}}}], ArmorDropChances: [0.001f, 0.001f, 0.001f, 0.001f], CustomName: '{"text": "Egyptian Desert Guardian", "color": "aqua"}', ArmorItems: [{components: {"minecraft:trim": {material: "minecraft:gold", pattern: "minecraft:raiser"}}, count: 1, id: "minecraft:diamond_boots"}, {components: {"minecraft:trim": {material: "minecraft:gold", pattern: "minecraft:host"}}, count: 1, id: "minecraft:diamond_leggings"}, {components: {"minecraft:trim": {material: "minecraft:gold", pattern: "minecraft:wayfinder"}}, count: 1, id: "minecraft:netherite_chestplate"}, {components: {"minecraft:trim": {material: "minecraft:gold", pattern: "minecraft:shaper"}}, count: 1, id: "minecraft:netherite_helmet"}], CustomNameVisible: 1b}
execute as @e[type=minecraft:marker,tag=mmo_dungeon,distance=0..5,limit=1] at @s run tag @s[tag=!dungeon_boss_generated] add dungeon_boss_generated

# Reward:
execute as @s[tag=mmo_boss_key] as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,distance=0..5,limit=1] at @s run tag @s[tag=!dungeon_boss_loot] add dungeon_boss_loot
execute as @s[tag=mmo_boss_key] as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,tag=dungeon_boss_loot,distance=0..5,limit=1] at @s run loot spawn ~ ~1 ~ loot minecraft:chests/end_city_treasure
execute as @s[tag=mmo_boss_key] as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,tag=dungeon_boss_loot,distance=0..5,limit=1] at @s run clear @a[distance=0..5,tag=mmo_boss_key] minecraft:gold_nugget[minecraft:custom_data={Tags:["dungeon_boss_key"]}] 1
execute as @e[type=minecraft:marker,tag=mmo_dungeon,tag=desert_boss,tag=dungeon_boss_loot,distance=0..5,limit=1] at @s run kill @s